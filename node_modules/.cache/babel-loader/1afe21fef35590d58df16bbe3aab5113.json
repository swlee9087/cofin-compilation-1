{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), exports.WorldMap = void 0;\n\nconst React = require(\"react\"),\n      d3_geo_1 = require(\"d3-geo\"),\n      react_path_tooltip_1 = require(\"react-path-tooltip\"),\n      countries_geo_1 = require(\"./countries.geo\"),\n      CDefaultColor = \"#dddddd\",\n      CSizes = {\n  sm: 240,\n  md: 336,\n  lg: 480,\n  xl: 640,\n  xxl: 1200,\n  responsive: -1\n},\n      CHeightRatio = 3 / 4;\n\nexports.WorldMap = e => {\n  const t = (() => {\n    const [e, t] = React.useState(0);\n    return React.useLayoutEffect(() => {\n      const e = () => {\n        t(window.innerWidth);\n      };\n\n      return window.addEventListener(\"resize\", e), e(), () => window.removeEventListener(\"resize\", e);\n    }, []), e;\n  })(),\n        o = void 0 !== e.size ? e.size : \"sm\",\n        r = e => {\n    let o = e;\n    if (\"responsive\" === e) return .75 * Math.min(window.innerHeight, window.innerWidth);\n\n    for (; CSizes[o] > t;) {\n      if (\"sm\" === o) return CSizes.sm;\n      \"md\" === o ? o = \"sm\" : \"lg\" === o ? o = \"md\" : \"xl\" === o ? o = \"lg\" : \"xxl\" === o && (o = \"xl\");\n    }\n\n    return CSizes[o];\n  },\n        i = r(o),\n        a = .75 * r(o),\n        l = void 0 === e.valuePrefix ? \"\" : e.valuePrefix,\n        n = void 0 === e.valueSuffix ? \"\" : e.valueSuffix,\n        c = void 0 === e.tooltipBgColor ? \"black\" : e.tooltipBgColor,\n        u = void 0 === e.tooltipTextColor ? \"white\" : e.tooltipTextColor,\n        d = void 0 !== e.frame && e.frame,\n        s = void 0 === e.backgroundColor ? \"white\" : e.backgroundColor,\n        p = void 0 === e.strokeOpacity ? .2 : e.strokeOpacity,\n        g = void 0 === e.frameColor ? \"black\" : e.frameColor,\n        h = void 0 === e.borderColor ? \"black\" : e.borderColor,\n        m = d ? React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: \"100%\",\n    height: \"100%\",\n    stroke: g,\n    fill: \"none\"\n  }) : React.createElement(\"path\", null),\n        y = void 0 === e.title ? \"\" : React.createElement(\"p\", null, e.title),\n        f = `scale(${(i / 960).toString()}) translate (0,240)`,\n        v = React.createRef(),\n        x = {};\n\n  let C = -1 / 0,\n      k = 1 / 0;\n  e.data.forEach(e => {\n    const t = e.country.toUpperCase(),\n          {\n      value: o\n    } = e;\n    k = k > o ? o : k, C = C < o ? o : C, x[t] = o;\n  });\n\n  const _ = d3_geo_1.geoMercator(),\n        R = d3_geo_1.geoPath().projection(_),\n        w = countries_geo_1.default.features.map((t, o) => {\n    const r = React.createRef(),\n          i = t.I,\n          a = t.N,\n          d = {\n      type: \"Feature\",\n      properties: {\n        NAME: a,\n        ISO_A2: i\n      },\n      geometry: {\n        type: \"MultiPolygon\",\n        coordinates: t.C\n      }\n    },\n          s = void 0 !== x[i],\n          g = e.styleFunction && s ? e.styleFunction({\n      country: i,\n      countryValue: x[i],\n      color: e.color ? e.color : \"#dddddd\",\n      minValue: k,\n      maxValue: C\n    }) : (e => {\n      const t = e.countryValue ? e.countryValue : 0,\n            o = .2 + (t - e.minValue) / (e.maxValue - e.minValue) * .6;\n      return {\n        fill: e.color,\n        fillOpacity: 0 === t ? t : o,\n        stroke: h,\n        strokeWidth: 1,\n        strokeOpacity: p,\n        cursor: \"pointer\"\n      };\n    })({\n      country: i,\n      countryValue: x[i],\n      color: e.color ? e.color : \"#dddddd\",\n      minValue: k,\n      maxValue: C\n    }),\n          m = React.createElement(\"path\", {\n      key: `path${o}`,\n      ref: r,\n      d: R(d),\n      style: g,\n      onClick: t => {\n        e.onClickFunction && x[i] && e.onClickFunction(t, a, i, x[i].toString(), l || \"\", n || \"\");\n      },\n      onMouseOver: e => {\n        e.currentTarget.style.strokeWidth = \"2\", e.currentTarget.style.strokeOpacity = \"0.5\";\n      },\n      onMouseOut: e => {\n        e.currentTarget.style.strokeWidth = \"1\", e.currentTarget.style.strokeOpacity = `${p}`;\n      }\n    });\n    let y = \"\";\n    e.tooltipTextFunction && x[i] ? y = e.tooltipTextFunction(a, i, x[i].toString(), l || \"\", n || \"\") : x[i] && (y = `${a} ${l} ${x[i].toLocaleString()} ${n}`);\n    return {\n      path: m,\n      highlightedTooltip: s ? React.createElement(react_path_tooltip_1.PathTooltip, {\n        fontSize: 12,\n        bgColor: c,\n        textColor: u,\n        key: `path_${o}_xyz`,\n        pathRef: r,\n        svgRef: v,\n        tip: y\n      }) : React.createElement(\"g\", {\n        pointerEvents: \"none\",\n        key: `path${o}xyz`\n      })\n    };\n  }),\n        E = w.map(e => e.path),\n        S = w.map(e => e.highlightedTooltip);\n\n  return React.createElement(\"div\", {\n    style: {\n      backgroundColor: s,\n      height: \"auto\",\n      width: \"auto\",\n      padding: \"0px\",\n      margin: \"0px\"\n    }\n  }, y, React.createElement(\"svg\", {\n    ref: v,\n    height: `${a}px`,\n    width: `${i}px`\n  }, m, React.createElement(\"g\", {\n    transform: f\n  }, E), S));\n};","map":{"version":3,"sources":["C:/Users/bitcamp/____/Projects/ui/node_modules/react-svg-worldmap/dist/WorldMap.js"],"names":["Object","defineProperty","exports","value","WorldMap","React","require","d3_geo_1","react_path_tooltip_1","countries_geo_1","CDefaultColor","CSizes","sm","md","lg","xl","xxl","responsive","CHeightRatio","e","t","useState","useLayoutEffect","window","innerWidth","addEventListener","removeEventListener","o","size","r","Math","min","innerHeight","i","a","l","valuePrefix","n","valueSuffix","c","tooltipBgColor","u","tooltipTextColor","d","frame","s","backgroundColor","p","strokeOpacity","g","frameColor","h","borderColor","m","createElement","x","y","width","height","stroke","fill","title","f","toString","v","createRef","C","k","data","forEach","country","toUpperCase","_","geoMercator","R","geoPath","projection","w","default","features","map","I","N","type","properties","NAME","ISO_A2","geometry","coordinates","styleFunction","countryValue","color","minValue","maxValue","fillOpacity","strokeWidth","cursor","key","ref","style","onClick","onClickFunction","onMouseOver","currentTarget","onMouseOut","tooltipTextFunction","toLocaleString","path","highlightedTooltip","PathTooltip","fontSize","bgColor","textColor","pathRef","svgRef","tip","pointerEvents","E","S","padding","margin","transform"],"mappings":"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","sourcesContent":["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.WorldMap=void 0;const React=require(\"react\"),d3_geo_1=require(\"d3-geo\"),react_path_tooltip_1=require(\"react-path-tooltip\"),countries_geo_1=require(\"./countries.geo\"),CDefaultColor=\"#dddddd\",CSizes={sm:240,md:336,lg:480,xl:640,xxl:1200,responsive:-1},CHeightRatio=3/4;exports.WorldMap=e=>{const t=(()=>{const[e,t]=React.useState(0);return React.useLayoutEffect((()=>{const e=()=>{t(window.innerWidth)};return window.addEventListener(\"resize\",e),e(),()=>window.removeEventListener(\"resize\",e)}),[]),e})(),o=void 0!==e.size?e.size:\"sm\",r=e=>{let o=e;if(\"responsive\"===e)return.75*Math.min(window.innerHeight,window.innerWidth);for(;CSizes[o]>t;){if(\"sm\"===o)return CSizes.sm;\"md\"===o?o=\"sm\":\"lg\"===o?o=\"md\":\"xl\"===o?o=\"lg\":\"xxl\"===o&&(o=\"xl\")}return CSizes[o]},i=r(o),a=.75*r(o),l=void 0===e.valuePrefix?\"\":e.valuePrefix,n=void 0===e.valueSuffix?\"\":e.valueSuffix,c=void 0===e.tooltipBgColor?\"black\":e.tooltipBgColor,u=void 0===e.tooltipTextColor?\"white\":e.tooltipTextColor,d=void 0!==e.frame&&e.frame,s=void 0===e.backgroundColor?\"white\":e.backgroundColor,p=void 0===e.strokeOpacity?.2:e.strokeOpacity,g=void 0===e.frameColor?\"black\":e.frameColor,h=void 0===e.borderColor?\"black\":e.borderColor,m=d?React.createElement(\"rect\",{x:0,y:0,width:\"100%\",height:\"100%\",stroke:g,fill:\"none\"}):React.createElement(\"path\",null),y=void 0===e.title?\"\":React.createElement(\"p\",null,e.title),f=`scale(${(i/960).toString()}) translate (0,240)`,v=React.createRef(),x={};let C=-1/0,k=1/0;e.data.forEach((e=>{const t=e.country.toUpperCase(),{value:o}=e;k=k>o?o:k,C=C<o?o:C,x[t]=o}));const _=d3_geo_1.geoMercator(),R=d3_geo_1.geoPath().projection(_),w=countries_geo_1.default.features.map(((t,o)=>{const r=React.createRef(),i=t.I,a=t.N,d={type:\"Feature\",properties:{NAME:a,ISO_A2:i},geometry:{type:\"MultiPolygon\",coordinates:t.C}},s=void 0!==x[i],g=e.styleFunction&&s?e.styleFunction({country:i,countryValue:x[i],color:e.color?e.color:\"#dddddd\",minValue:k,maxValue:C}):(e=>{const t=e.countryValue?e.countryValue:0,o=.2+(t-e.minValue)/(e.maxValue-e.minValue)*.6;return{fill:e.color,fillOpacity:0===t?t:o,stroke:h,strokeWidth:1,strokeOpacity:p,cursor:\"pointer\"}})({country:i,countryValue:x[i],color:e.color?e.color:\"#dddddd\",minValue:k,maxValue:C}),m=React.createElement(\"path\",{key:`path${o}`,ref:r,d:R(d),style:g,onClick:t=>{e.onClickFunction&&x[i]&&e.onClickFunction(t,a,i,x[i].toString(),l||\"\",n||\"\")},onMouseOver:e=>{e.currentTarget.style.strokeWidth=\"2\",e.currentTarget.style.strokeOpacity=\"0.5\"},onMouseOut:e=>{e.currentTarget.style.strokeWidth=\"1\",e.currentTarget.style.strokeOpacity=`${p}`}});let y=\"\";e.tooltipTextFunction&&x[i]?y=e.tooltipTextFunction(a,i,x[i].toString(),l||\"\",n||\"\"):x[i]&&(y=`${a} ${l} ${x[i].toLocaleString()} ${n}`);return{path:m,highlightedTooltip:s?React.createElement(react_path_tooltip_1.PathTooltip,{fontSize:12,bgColor:c,textColor:u,key:`path_${o}_xyz`,pathRef:r,svgRef:v,tip:y}):React.createElement(\"g\",{pointerEvents:\"none\",key:`path${o}xyz`})}})),E=w.map((e=>e.path)),S=w.map((e=>e.highlightedTooltip));return React.createElement(\"div\",{style:{backgroundColor:s,height:\"auto\",width:\"auto\",padding:\"0px\",margin:\"0px\"}},y,React.createElement(\"svg\",{ref:v,height:`${a}px`,width:`${i}px`},m,React.createElement(\"g\",{transform:f},E),S))};"]},"metadata":{},"sourceType":"script"}